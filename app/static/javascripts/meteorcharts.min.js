var MeteorCharts;!function(){MeteorCharts={version:"0.0.11"}}(),function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.returnExports=b()}(this,function(){return MeteorCharts}),function(){var a="hovering",b="zooming",c="panning";MeteorCharts.Chart=function(a){this._init(a)},MeteorCharts.Chart.prototype={_init:function(b){var c=this;this.model=b.model||{},this.view=b.view||{},this._view=new MeteorCharts.View(this),this.events={},this._setState(a),this.stage=new Kinetic.Stage({container:b.container,listening:!1,width:this._view.get("width"),height:this._view.get("height")}),this.stage.getContainer().style.display="inline-block",this.stage.getContent().setAttribute("role","presentation"),this.bottomLayer=new Kinetic.Layer({listening:!1}),this.dataLayer=new Kinetic.Layer({listening:!1}),this.topLayer=new Kinetic.Layer({listening:!1}),this.interactionLayer=new Kinetic.Layer({opacity:0,listening:!1}),this.content=document.createElement("div"),this.content.style.textIndent="-999999px",this.content.style.position="absolute",this.bottomLayer.getCanvas()._canvas.className="meteorcharts-bottom-layer",this.dataLayer.getCanvas()._canvas.className="meteorcharts-data-layer",this.topLayer.getCanvas()._canvas.className="meteorcharts-top-layer",this.interactionLayer.getCanvas()._canvas.className="meteorcharts-interaction-layer",this.content.className="meteorcharts-content",this.stage.add(this.bottomLayer),this.stage.add(this.dataLayer),this.stage.add(this.topLayer),this.stage.add(this.interactionLayer),this.stage.getContainer().insertBefore(this.content,this.stage.getContent()),this.title=new MeteorCharts.Title(this),this.interactionShow=new Kinetic.Tween({node:c.interactionLayer,duration:.3,opacity:1,easing:Kinetic.Easings.EaseInOut}),this._bind()},batchDraw:function(){this.enableSeriesTween=!1,this.stage.batchDraw()},draw:function(){this.enableSeriesTween=!0,this.stage.draw(),this.fire("draw")},getView:function(){return this._view},showInteractionLayer:function(){this.interactionShow.play()},hideInteractionLayer:function(){this.interactionShow.reverse()},on:function(a,b){this.events[a]||(this.events[a]=[]),this.events[a].push(b)},fire:function(a){var b,c,d=this.events[a];if(d)for(b=d.length,c=0;b>c;c++)d[c]()},_setState:function(a){this.state=a,this.fire("stateChange")},_getContent:function(){return""},_addContent:function(){this.content.innerHTML=this._getContent()},_bind:function(){var d=this.stage,e=this,f=!1,g=null;document.body.addEventListener("keydown",function(){f=!0}),document.body.addEventListener("keyup",function(){f=!1}),d.on("contentTouchstart contentTouchend contentTouchmove",function(a){a.preventDefault()}),d.on("contentMousedown",function(){switch(e.state){case a:f?e._setState(c):e._setState(b);case b:e.zoom._startZoomSelect()}}),d.on("contentMousemove contentTouchmove contentTouchstart",function(){switch(e.state){case a:e.pointerMove();break;case b:e.tooltip.group.hide(),e.zoom._resizeZoomSelect();break;case c:e._pan(),e.tooltip.group.hide()}e.lastPos=d.getPointerPosition(),e.interactionLayer.batchDraw()}),d.on("contentMouseup",function(){switch(e.state){case b:e.zoom._endZoomSelect(),e._setState(a),e.tooltip.group.show();break;case c:e._setState(a),e.tooltip.group.show(),d.draw(),e.fire("draw")}}),d.on("contentTouchmove",function(a){e.zoom._pinch(a)}),d.on("contentTouchend",function(){g=null}),d.on("contentMouseover contentTouchstart",function(){e.showInteractionLayer()}),d.on("contentMouseout contentTouchend",function(){e.hideInteractionLayer()}),this.bottomLayer.on("beforeDraw",function(){e._draw()}),this.on("stateChange",function(){switch(e.state){case a:break;case c:break;case b:}})}}}(),function(){MeteorCharts.Util={merge:function(){var a,b,c,d,e=arguments.length,f=Array.prototype.slice.call(arguments);if(this.containsObjects(f))for(c={},a=0;e>a;a++){d=arguments[a];for(b in d)c[b]=d[b]}else for(a=e-1;a>=0;a--)if(d=arguments[a],void 0!==d){c=d;break}return c},extend:function(a,b){for(var c in b.prototype)c in a.prototype||"init"===c||(a.prototype[c]=b.prototype[c])},isObject:function(a){return!!a&&a.constructor==Object},containsObjects:function(a){var b,c,d=a.length;for(b=0;d>b;b++)if(c=a[b],void 0!==c&&!this.isObject(c))return!1;return!0},get:function(a,b){var c,d=b.length;for(c=0;d>c&&(a=a[b[c]],void 0!==a);c++);return c===d?a:void 0},getDistance:function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))}}}(),function(){var a=[1,2,5];MeteorCharts.Formatter=function(a,b,c){this.min=a,this.max=b,this.range=this.max-this.min,this.maxNumberOfLabels=c},MeteorCharts.Formatter.prototype={getIncrement:function(){var a,b,c=this.range,d=this._getIncrements(),e=d.length,f=this.maxNumberOfLabels;for(b=0;e>b;b++)if(a=d[b],a>=c/f)return a;return c},_getIncrements:function(){var b,c,d=[],e=this.base,f=a.length;for(b=0;8>b;b++)for(c=0;f>c;c++)d.push(a[c]*Math.pow(e,b));return d},each:function(a){for(var b=this.start(),c=this.max;c>b;)a(b),b=this.next()},getLongestValue:function(){return Math.max(Math.abs(this.max),Math.abs(this.min))},addCommas:function(a){a+="";for(var b=a.split("."),c=b[0],d=b.length>1?"."+b[1]:"",e=/(\d+)(\d{3})/;e.test(c);)c=c.replace(e,"$1,$2");return c+d}}}(),function(){MeteorCharts.View=function(a){this.overrides={},this.chart=a},MeteorCharts.View.DEFAULT={backgroundColor:"black",width:900,height:450,padding:10,spacing:10,title:{text:{fill:"#ccc",fontSize:20}},legend:{text:{fill:"#ccc",fontSize:18},spacing:20},xAxis:{min:"auto",max:"auto",text:{fill:"#ccc",fontSize:14},gridLines:{stroke:"#555",strokeWidth:2},formatter:"Date"},yAxis:{min:"auto",max:"auto",text:{fill:"#ccc",fontSize:14},gridLines:{stroke:"#555",strokeWidth:2},formatter:"Number"},series:[{stroke:"#afe225",strokeWidth:2,lineJoin:"round"},{stroke:"#76d0ff",strokeWidth:2,lineJoin:"round"},{stroke:"#fc009a",strokeWidth:2,lineJoin:"round"},{stroke:"#ffff00",strokeWidth:2,lineJoin:"round"},{stroke:"#d200ff",strokeWidth:2,lineJoin:"round"},{stroke:"#ff9000",strokeWidth:2,lineJoin:"round"},{stroke:"#00fcff",strokeWidth:2,lineJoin:"round"}],tooltip:{title:{fill:"#444",fontSize:14,fontStyle:"italic"},content:{fill:"black",fontSize:14,fontStyle:"bold"},rect:{fill:"#e8e8e8",lineJoin:"round",strokeWidth:4,padding:8},node:{stroke:"#e8e8e8",radius:5,strokeWidth:2},connector:{strokeWidth:4,opacity:.4,points:[0,0,0,0],dashArray:[10,8]}},zoom:{type:"box",selection:{fill:"white",opacity:.3}}},MeteorCharts.View.prototype={get:function(){var a=Array.prototype.slice.call(arguments),b=MeteorCharts.Util,c=b.get,d=MeteorCharts.View.DEFAULT,e=this.chart.view,f=this.overrides;return b.merge(c(d,a),c(e,a),c(f,a))},set:function(){var a,b,c=this.chart.view,d=arguments[0],e=arguments[1];switch(arguments.length){case 2:c[d]=e;break;case 3:a=arguments[2],void 0===c[d]&&(c[d]={}),c[d][e]=a;break;case 4:a=arguments[2],b=arguments[3],void 0===c[d]&&(c[d]={}),void 0===c[d][e]&&(c[d][e]={}),c[d][e][a]=b}},getSeriesStyle:function(a){var b=this.get("series"),c=b.length;return b[a%c]}}}(),function(){MeteorCharts.Number=function(){MeteorCharts.Formatter.apply(this,arguments),this.base=10,this.increment=this.getIncrement()},MeteorCharts.Number.prototype={"short":function(a){var b=this.getLongestValue();return 10>b?Math.round(a):1e3>b?Math.round(10*a)/10:1e6>b?Math.round(10*(a/1e3))/10+"k":1e9>b?Math.round(10*(a/1e6))/10+"M":Math.round(10*(a/1e9))/10+"B"},"long":function(a){return this.addCommas(a)},start:function(){var a=this.min;return this.increment,this.number=a+Math.abs(a%this.increment),this.number},next:function(){return this.number+=this.increment,this.number}},MeteorCharts.Util.extend(MeteorCharts.Number,MeteorCharts.Formatter)}(),function(){var a=60,b=3600,c=86400,d=2628e3,e=315e5;MeteorCharts.Date=function(){MeteorCharts.Formatter.apply(this,arguments),this.increment=this.getIncrement(),this.incrementMultiplier=1,this._setIncrementMultiplier()},MeteorCharts.Date.prototype={"short":function(a){var f=this.range,g=new moment(1e3*a);return b>f?g.format("h:mma"):c>f?g.format("ddd ha"):d>f?g.format("MMM D"):e>f?g.format("MMM YYYY"):g.format("YYYY")},"long":function(a){var b=b=new moment(1e3*a);return b.format("MMM D YYYY h:mma")},start:function(){return this.mn=moment.utc(1e3*this.min).endOf(this.increment),this.mn.unix()},next:function(){return this.mn.add(this.increment,this.incrementMultiplier),this.mn.unix()},getIncrement:function(){var f=this.range;return a>f?"second":b>f?"minute":c>f?"hour":d>f?"day":e>f?"month":"year"},_setIncrementMultiplier:function(){var a=0;this.each(function(){a++}),a>this.maxNumberOfLabels&&(this.incrementMultiplier++,this._setIncrementMultiplier())}},MeteorCharts.Util.extend(MeteorCharts.Date,MeteorCharts.Formatter)}(),function(){MeteorCharts.Legend=function(a){this.chart=a,this.group=new Kinetic.Group,this.addLabels()},MeteorCharts.Legend.prototype={addLabels:function(){var a,b,c,d,e=this.chart,f=this.group,g=e.model,h=e._view,i=h.get("padding"),j=g.series,k=j.length,l=0;for(a=0;k>a;a++)b=j[a],d=new Kinetic.Line(MeteorCharts.Util.merge({x:l,points:[0,0,10,0],stroke:e._view.getSeriesStyle(a).stroke,strokeWidth:3,listening:!1,lineCap:"round"})),l+=16,c=new Kinetic.Text(MeteorCharts.Util.merge(h.get("legend","text"),{text:b.title,x:l,listening:!1})),l+=c.getWidth(),k-1>a&&(l+=h.get("legend","spacing")),d.setY(c.getHeight()/2),f.add(d).add(c);this.width=l,f.setPosition(h.get("width")-l-i,i),e.bottomLayer.add(f)},getWidth:function(){return this.width||0},hide:function(){this.group.hide()}}}(),function(){MeteorCharts.Title=function(a){var a=this.chart=a,b=this.model=a.model,c=a._view,d=(b.str="",c.get("padding")),e=this.text=new Kinetic.Text(MeteorCharts.Util.merge(c.get("title","text"),{text:b.title,listening:!1,x:d,y:d}));a.bottomLayer.add(e)},MeteorCharts.Title.prototype={getWidth:function(){return this.text.getWidth()||0},hide:function(){this.text.hide()}}}(),function(){var a=100;MeteorCharts.XAxis=function(b){var c=b._view.get("width")/a;this.chart=b,this.maxNumberOfLabels=b._view.get("xAxis","maxNumberOfLabels"),this.formatter=new(MeteorCharts[b._view.get("xAxis","formatter")])(b.minX,b.maxX,c),this.addXLabels()},MeteorCharts.XAxis.prototype={addXLabels:function(){var a,b=this,c=this.chart,d=c.minX,e=c.scaleX,f=this.formatter;f.each(function(g){a=(g-d)*e+c.dataX,b.addXLabel(f.short(g),a)})},addXLabel:function(a,b){var c,d=this.chart,e=d._view,f=e.get("xAxis","gridLines"),g=d.dataY,h=d.dataHeight,i=d.bottomLayer,j=e.get("height")-e.get("xAxis","text","fontSize")-e.get("padding"),k=new Kinetic.Text(MeteorCharts.Util.merge(e.get("xAxis","text"),{text:a,x:b,y:j,listening:!1}));k.setOffsetX(k.getWidth()/2),"none"!==f&&(c=new Kinetic.Line(MeteorCharts.Util.merge(f,{points:[b,g,b,g+h],listening:!1})),i.add(c)),d.topLayer.add(k)}}}(),function(){var a=50;MeteorCharts.YAxis=function(b){var c=b._view.get("height")/a;this.chart=b,this.maxNumberOfLabels=b._view.get("yAxis","maxNumberOfLabels"),this.formatter=new(MeteorCharts[b._view.get("yAxis","formatter")])(b.minY,b.maxY,c),this.lineGroup=new Kinetic.Group,b.bottomLayer.add(this.lineGroup),this.addYLabels()},MeteorCharts.YAxis.prototype={addYLabels:function(){var a=this,b=this.chart,c=this.formatter,d=b.minY,e=(c.getIncrement(),b.dataHeight),f=b.scaleY,g=0,h=0;c.each(function(b){h=a.addYLabel(c.short(b),Math.round(e+(d-b)*f)),g=Math.max(h,g)}),b.dataX=g+10+b._view.get("padding"),this.lineGroup.setX(b.dataX)},addYLabel:function(a,b){var c,d=this.chart,e=d._view,f=e.get("padding"),g=(e.get("width"),d.dataHeight,d.dataY),h=(d.bottomLayer,d.topLayer,e.get("yAxis","gridLines")),i=new Kinetic.Text(MeteorCharts.Util.merge(e.get("yAxis","text"),{text:a,x:f,y:b-8+g,listening:!1})),j=this.lineGroup;return"none"!==h&&(c=new Kinetic.Line(MeteorCharts.Util.merge(h,{y:b+g,listening:!1})),j.add(c)),d.topLayer.add(i),i.getWidth()}}}(),function(){var a=10,b=500;MeteorCharts.Tooltip=function(a){this.chart=a,this.group=new Kinetic.Group,this.textGroup=new Kinetic.Group,this.title=new Kinetic.Text({}),this.content=new Kinetic.Text({}),this.rect=new Kinetic.Rect,this.node=new Kinetic.Circle,this.connector=new Kinetic.Line,this.yTop=!0,this.yLock=!1,this.group.add(this.connector).add(this.node).add(this.textGroup.add(this.rect).add(this.title).add(this.content)),a.interactionLayer.add(this.group)},MeteorCharts.Tooltip.prototype={reset:function(){var b=this.chart._view,c=b.get("tooltip","rect","padding");this.title.setAttrs(MeteorCharts.Util.merge(b.get("tooltip","title"),{text:"",x:c,y:c})),this.content.setAttrs(MeteorCharts.Util.merge(b.get("tooltip","content"),{text:"",y:this.title.getHeight()+a,x:c})),this.rect.setAttrs(b.get("tooltip","rect")),this.node.setAttrs(b.get("tooltip","node")),this.connector.setAttrs(b.get("tooltip","connector"))},render:function(b){var c,d,e,f=this.chart,g=f._view,h=this.textGroup,i=this.rect,j=this.title,k=this.content,l=this.node,m=this.connector,n=f.dataToChart(b),o="x: "+f.xAxis.formatter.long(b.x)+", y: "+f.yAxis.formatter.long(b.y),p=g.get("tooltip","rect","padding"),q=g.get("tooltip","rect","strokeWidth"),r=g.get("width");j.setText(b.title),k.setText(o),c=Math.max(j.getWidth(),k.getWidth())+2*p,d=j.getHeight()+k.getHeight()+a+p,e=n.x-c/2,q>e?e=q:e>r-c-q&&(e=r-c-q),h.setX(e),n.y<f.dataY+d+10?this.setY(f.dataY+d+40):this.setY(f.dataY),i.setStroke(b.color),i.setWidth(c),i.setHeight(d),l.setFill(b.color),l.setPosition(n.x,n.y),m.setPoints([n.x,n.y,n.x,h.getY()]),m.setStroke(b.color)},setY:function(a){var b=this.textGroup;a===b.getY()||this.yLock||(b.setY(a),this.lockY())},lockY:function(){var a=this;this.yLock=!0,setTimeout(function(){a.yLock=!1},b)}}}(),function(){var a="contentDblclick",b=20,c=null;MeteorCharts.Zoom=function(a){this.chart=a,this.selecting=!1,this.startX=0,this.startY=0,this.rect=new Kinetic.Rect({listening:!1}),a.interactionLayer.add(this.rect),this._bind()},MeteorCharts.Zoom.prototype={reset:function(){this.rect.setAttrs(MeteorCharts.Util.merge(this.chart._view.get("zoom","selection"),{width:0,height:0}))},_bind:function(){var b=this.chart,c=b.stage;b._view,c.on(a,function(){b.minX=null,b.minY=null,b.maxX=null,b.maxY=null,b.draw()})},_startZoomSelect:function(){var a=this.chart,b=a.stage.getPointerPosition(),c=(a.view,a._view.get("zoom","type"));this.selecting=!0,this.startX=b.x,this.startY="box"===c?b.y:a.dataY,this.rect.setPosition(this.startX,this.startY)},_resizeZoomSelect:function(){var a,b,c,d=this.rect,e=this.chart;this.selecting&&(a=e.stage.getPointerPosition(),b=e.view,c=e._view.get("zoom","type"),this.rect.setWidth(a.x-this.startX),this.rect.setHeight("box"===c?a.y-this.startY:e.dataHeight),d.isVisible()||d.setVisible(!0))},_pinch:function(a){var b=a.touches[0],d=a.touches[1],e=0,f=0;b&&d&&(e=MeteorCharts.Util.getDistance({x:b.clientX,y:b.clientY},{x:d.clientX,y:d.clientY}),null===c&&(c=e),f=c-e)},_endZoomSelect:function(){this.selecting=!1,this._updateMinMax(),this.startX=0,this.startY=0,this.rect.setSize(0),this.rect.setVisible(!1)},_updateMinMax:function(){var a=this.chart,c=(a.bounds,a.view,a._view,a._view.get("zoom","type"));pos=a.stage.getPointerPosition(),startX=this.startX,startY=this.startY,rect=this.rect,chartMinX=Math.min(startX,pos.x),chartMinY="box"===c?Math.max(startY,pos.y):a.dataY+a.dataHeight,chartMaxX=Math.max(startX,pos.x),chartMaxY="box"===c?Math.min(startY,pos.y):a.dataY,min=a.chartToData({x:chartMinX,y:chartMinY}),max=a.chartToData({x:chartMaxX,y:chartMaxY}),Math.abs(chartMaxX-chartMinX)>b&&Math.abs(chartMaxY-chartMinY)>b&&(a.minX=min.x,a.minY=min.y,a.maxX=max.x,a.maxY=max.y,a.draw())}}}(),function(){var a=15;MeteorCharts.Line=function(a){MeteorCharts.Chart.call(this,a),this.__init(a)},MeteorCharts.Line.prototype={__init:function(){this.tooltip=new MeteorCharts.Tooltip(this),this.zoom=new MeteorCharts.Zoom(this),this.draw(),this._addContent()},setBounds:function(){var a=this.getAutoMinMax(),b=this._view,c=b.get("xAxis","min"),d=b.get("yAxis","min"),e=b.get("xAxis","max"),f=b.get("yAxis","max");this.minX||this.minY||this.maxX||this.maxY||(this.minX="auto"===c?a.minX:c,this.minY="auto"===d?a.minY:d,this.maxX="auto"===e?a.maxX:e,this.maxY="auto"===f?a.maxY:f)},_draw:function(){var a=this,b=this._view,c=b.get("padding"),d=this.stage,e=d.getContainer();this.zoom.reset(),this.tooltip.reset(),this.bottomLayer.destroyChildren(),this.dataLayer.destroyChildren(),this.topLayer.destroyChildren(),this.setBounds(),e.style.backgroundColor=b.get("backgroundColor"),this.dataY=b.get("title","text","fontSize")+b.get("spacing")+c,this.dataHeight=b.get("height")-this.dataY-b.get("xAxis","text","fontSize")-b.get("spacing")-c,this.scaleY=this.dataHeight/(this.maxY-this.minY),this.yAxis=new MeteorCharts.YAxis(this),this.dataWidth=b.get("width")-this.dataX-c,this.yAxis.lineGroup.getChildren().each(function(b){b.setPoints([0,0,a.dataWidth,0])}),this.scaleX=this.dataWidth/(this.maxX-this.minX),this.xAxis=new MeteorCharts.XAxis(this),this.legend=new MeteorCharts.Legend(this),this.title=new MeteorCharts.Title(this),this.title.getWidth()+this.legend.getWidth()+2*c+b.get("spacing")>b.get("width")&&this.legend.hide(),this.addLines(),this.pointerMove(),this.dataLayer.setClip([this.dataX,this.dataY,this.dataWidth,this.dataHeight])},getAutoMinMax:function(){var a,b,c,d,e,f,g,h,i=this.model,j=i.series,k=j.length,l=j[0].points[0],m=l.x,n=l.y,o=m,p=n,q=m,r=n;for(a=0;k>a;a++)for(g=j[a],h=g.points,c=h.length,b=0;c>b;b++)d=h[b],e=d.x,f=d.y,o=Math.min(o,e),p=Math.min(p,f),q=Math.max(q,e),r=Math.max(r,f);return{minX:o,minY:p,maxX:q,maxY:r}},_getNearestPoint:function(a){var b,c,d,e,f,g,h,i,j,k,l,m=this._view,n=this.model,o=n.series,p=o.length,q=this.minX,r=this.maxX,s=this.minY,t=this.maxY,u=null,v=1/0;for(b=0;p>b;b++)for(d=o[b],e=d.points,f=e.length,g=m.getSeriesStyle(b).stroke,h=d.title,c=0;f>c;c++)i=e[c],j=i.x,k=i.y,l=MeteorCharts.Util.getDistance(a,this.dataToChart(i)),j>=q&&r>=j&&k>=s&&t>=k&&v>l&&(v=l,u={color:g,title:h,x:j,y:k});return u},pointerMove:function(){var a,b=this.stage.getPointerPosition();b&&(a=this._getNearestPoint(b),a?(this.tooltip.render(a),this.tooltip.group.show()):this.tooltip.group.hide())},dataToChartX:function(a){return(a-this.minX)*this.scaleX+this.dataX},dataToChartY:function(a){return this.dataHeight-(a-this.minY)*this.scaleY+this.dataY},dataToChart:function(a){return{x:this.dataToChartX(a.x),y:this.dataToChartY(a.y)}},dataToChartPoints:function(a){var b,c,d=[],e=a.length;for(b=0;e>b;b++)c=a[b],d.push(this.dataToChart(c));return d},chartToData:function(a){return{x:(a.x-this.dataX)/this.scaleX+this.minX,y:this.minY-(a.y-this.dataHeight-this.dataY)/this.scaleY}},addLine:function(a,b,c){var d=new Kinetic.Line(MeteorCharts.Util.merge(b,{points:a,listening:!1}));this.dataLayer.add(d),c&&this.addNodes(a,b)},addNodes:function(a,b){var c,d,e=this._view,f=a.length,g=this.dataLayer;for(c=0;f>c;c++)d=a[c],g.add(new Kinetic.Circle({x:d.x,y:d.y,radius:5,stroke:e.get("backgroundColor"),strokeWidth:3,fill:b.stroke,listening:!1}))},getStartEnd:function(a){var b,c,d,e,f=this.minX,g=this.maxX,h=a.length;for(d=0;h>d;d++)if(e=a[d],void 0===b&&e.x>=f&&(b=0===d?0:d-1),void 0===c&&e.x>=g){c=d;break}return void 0===c&&(c=h-1),{start:b,end:c}},addLines:function(){var b,c,d,e,f,g,h,i,j,k,l=this.model,m=l.series,n=m.length;for(c=0;n>c;c++)d=m[c],e=d.points,b=this._view.getSeriesStyle(c),k=[],g=this.getStartEnd(e),h=g.start,i=g.end,f=!1,void 0!==h&&void 0!==i&&(j=this.dataToChartX(e[i].x)-this.dataToChartX(e[h].x),f=j/(i-h)>a),k=e.slice(h,i+1),k.length>1&&this.addLine(this.dataToChartPoints(k),b,f)},_pan:function(){var a,b,c=this.stage.getPointerPosition();this._view,this.lastPos&&(a=(c.x-this.lastPos.x)/this.scaleX,b=(c.y-this.lastPos.y)/this.scaleY,this.minX=this.minX-a,this.minY=this.minY+b,this.maxX=this.maxX-a,this.maxY=this.maxY+b,this.batchDraw())},_getContent:function(){var a,b,c,d,e,f,g=(this._view,this.model),h=g.series,i=h.length,j=this.xAxis.formatter,k=this.yAxis.formatter,l=["<h2>MeteorCharts Line Chart Description</h2>","<p>",'The title of the chart is "'+g.title+'". ','The x axis begins at "'+j.short(this.minX)+'" and ends at "'+j.short(this.maxX)+'" from left to right. ','The y axis begins at "'+k.short(this.minY)+'" and ends at "'+k.short(this.maxY)+'" from bottom to top. ',"There are "+g.series.length+" series lines. "];for(a=0;i>a;a++)b=h[a],c=b.points,d=c[0],e=c[c.length-1],f=e.y>=d.y?"rises":"falls",l.push('The line titled "'+h[a].title+'" begins at "'+k.short(d.y)+'" '),l.push("and "+f+' to "'+k.short(e.y)+'". ');return l.push("</p>"),l.join("")}},MeteorCharts.Util.extend(MeteorCharts.Line,MeteorCharts.Chart)}();